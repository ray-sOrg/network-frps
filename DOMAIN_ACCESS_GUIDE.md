# ğŸŒ åŸŸåè®¿é—®é…ç½®æŒ‡å—

## ğŸ¯ è®¿é—®æ–¹å¼è¯´æ˜

### 1. **ä¸‰çº§åŸŸåè®¿é—®ï¼ˆæ¨èï¼‰**

- **FRPS ç®¡ç†é¢æ¿**: `https://frps.tx.ray321.cn`
- **PVE ç®¡ç†ç•Œé¢**: `https://pve.tx.ray321.cn`
- **iKuai ç®¡ç†ç•Œé¢**: `https://ikuai.tx.ray321.cn`
- **iStoreOS ç®¡ç†ç•Œé¢**: `https://istoreos.tx.ray321.cn`

### 2. **FRP æœåŠ¡è®¿é—®ï¼ˆä»…é™ IP+ç«¯å£ï¼‰**

- **IP+ç«¯å£**: `http://121.4.118.156:30000`
- **è¯´æ˜**: TCP æœåŠ¡ï¼Œæ— æ³•é€šè¿‡ Ingress è®¿é—®
- **æœåŠ¡**: FRP å®¢æˆ·ç«¯è¿æ¥ç«¯å£
- **çŠ¶æ€**: âš ï¸ å¿…é¡»ä½¿ç”¨ IP+ç«¯å£ï¼Œæ— æ³•é€šè¿‡åŸŸåè®¿é—®

## ğŸ” ä¸ºä»€ä¹ˆ FRP æœåŠ¡ä¸èƒ½ç”¨åŸŸåï¼Ÿ

### æŠ€æœ¯åŸå› ï¼š

1. **FRP æœåŠ¡æ˜¯ TCP æœåŠ¡**ï¼Œä¸æ˜¯ HTTP/HTTPS æœåŠ¡
2. **Ingress åªèƒ½å¤„ç† HTTP/HTTPS æµé‡**
3. **TCP æœåŠ¡éœ€è¦é€šè¿‡ NodePort æˆ– LoadBalancer æš´éœ²**

### è§£å†³æ–¹æ¡ˆå¯¹æ¯”ï¼š

| è®¿é—®æ–¹å¼     | FRP æœåŠ¡  | ç®¡ç†ç•Œé¢ | è¯´æ˜               |
| ------------ | --------- | -------- | ------------------ |
| **ä¸‰çº§åŸŸå** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ  | æ‰€æœ‰ç®¡ç†ç•Œé¢éƒ½æ”¯æŒ |
| **IP+ç«¯å£**  | âœ… æ”¯æŒ   | âœ… æ”¯æŒ  | ä¸¤ç§æœåŠ¡éƒ½æ”¯æŒ     |

## ğŸ› ï¸ é…ç½®æ­¥éª¤

### æ­¥éª¤ 1: ç¡®ä¿åŸŸåè§£ææ­£ç¡®

```bash
# æ£€æŸ¥åŸŸåè§£æ
nslookup frps.tx.ray321.cn
nslookup pve.tx.ray321.cn
nslookup ikuai.tx.ray321.cn
nslookup istoreos.tx.ray321.cn

# åº”è¯¥éƒ½è¿”å›ä½ çš„æœåŠ¡å™¨IP
# 121.4.118.156
```

### æ­¥éª¤ 2: æ£€æŸ¥ Ingress Controller

ç¡®ä¿ä½ çš„ K3s é›†ç¾¤å®‰è£…äº† Ingress Controllerï¼š

```bash
# æ£€æŸ¥Ingress Controller
kubectl get pods -n kube-system | grep ingress

# å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦å®‰è£…
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/baremetal/deploy.yaml
```

### æ­¥éª¤ 3: éªŒè¯ Ingress çŠ¶æ€

```bash
# æ£€æŸ¥IngressçŠ¶æ€
kubectl get ingress -n frps

# æ£€æŸ¥Ingressè¯¦ç»†ä¿¡æ¯
kubectl describe ingress -n frps
```

## ğŸŒŸ æœ€ä½³å®è·µå»ºè®®

### 1. **ç®¡ç†ç•Œé¢è®¿é—®**

- ä½¿ç”¨ä¸‰çº§åŸŸåï¼š`https://frps.tx.ray321.cn`
- æ— éœ€ç«¯å£å·ï¼Œæ›´ä¸“ä¸š
- æ”¯æŒ HTTPSï¼ˆå¦‚æœé…ç½®äº† SSL è¯ä¹¦ï¼‰

### 2. **FRP å®¢æˆ·ç«¯é…ç½®**

- åœ¨ frpc.ini ä¸­ä½¿ç”¨ IP+ç«¯å£ï¼š

```ini
[common]
server_addr = 121.4.118.156
server_port = 30000  # ä½¿ç”¨NodePortç«¯å£
token = your_token
```

### 3. **åŸŸåç®¡ç†**

- ä¸»åŸŸåï¼š`tx.ray321.cn`
- ä¸‰çº§åŸŸåï¼š`*.tx.ray321.cn` â†’ å„ä¸ªæœåŠ¡

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: åŸŸå 404 é”™è¯¯

**å¯èƒ½åŸå› **:

1. Ingress Controller æœªå®‰è£…
2. Ingress é…ç½®é”™è¯¯
3. åŸŸåè§£æé—®é¢˜

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥Ingress Controller
kubectl get pods -n kube-system | grep ingress

# 2. æ£€æŸ¥IngressçŠ¶æ€
kubectl get ingress -n frps

# 3. æ£€æŸ¥åŸŸåè§£æ
nslookup frps.tx.ray321.cn

# 4. æ£€æŸ¥Ingressæ—¥å¿—
kubectl logs -n kube-system deployment/ingress-nginx-controller
```

### é—®é¢˜ 2: é‡å®šå‘æ¬¡æ•°è¿‡å¤š

**å¯èƒ½åŸå› **:

1. åŸŸåé…ç½®å†²çª
2. Ingress è§„åˆ™é…ç½®é”™è¯¯
3. æœåŠ¡ç«¯å£æ˜ å°„é—®é¢˜

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥PodçŠ¶æ€
kubectl get pods -n frps

# 2. æ£€æŸ¥ServiceçŠ¶æ€
kubectl get svc -n frps

# 3. æ£€æŸ¥Ingressè§„åˆ™
kubectl describe ingress -n frps

# 4. æ£€æŸ¥frpsæ—¥å¿—
kubectl logs -f deployment/frps -n frps
```

### é—®é¢˜ 3: æŸä¸ªæœåŠ¡æ— æ³•è®¿é—®

**å¯èƒ½åŸå› **:

1. frpc å®¢æˆ·ç«¯æœªè¿è¡Œ
2. æœ¬åœ°æœåŠ¡ä¸å¯è®¿é—®
3. ç«¯å£æ˜ å°„é”™è¯¯

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥frpsæ—¥å¿—
kubectl logs -f deployment/frps -n frps

# 2. æ£€æŸ¥æœ¬åœ°æœåŠ¡çŠ¶æ€
# åœ¨å®¶åº­ç½‘ç»œä¸­æ£€æŸ¥å„ä¸ªæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

# 3. æ£€æŸ¥ç«¯å£æ˜ å°„
kubectl get svc -n frps
```

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

### âœ… åŸŸåé…ç½®ï¼š

- [ ] æ‰€æœ‰ä¸‰çº§åŸŸåå·²è§£æåˆ°æœåŠ¡å™¨ IP
- [ ] Ingress Controller å·²å®‰è£…
- [ ] Ingress è§„åˆ™é…ç½®æ­£ç¡®
- [ ] æœåŠ¡ç«¯å£æ˜ å°„æ­£ç¡®

### âœ… è®¿é—®æµ‹è¯•ï¼š

- [ ] FRPS ç®¡ç†é¢æ¿å¯é€šè¿‡åŸŸåè®¿é—®
- [ ] PVE ç®¡ç†ç•Œé¢å¯é€šè¿‡åŸŸåè®¿é—®
- [ ] iKuai ç®¡ç†ç•Œé¢å¯é€šè¿‡åŸŸåè®¿é—®
- [ ] iStoreOS ç®¡ç†ç•Œé¢å¯é€šè¿‡åŸŸåè®¿é—®
- [ ] FRP æœåŠ¡å¯é€šè¿‡ IP+ç«¯å£è®¿é—®

## ğŸ‰ é¢„æœŸç»“æœ

é…ç½®å®Œæˆåï¼š

- âœ… **FRPS ç®¡ç†é¢æ¿**: `https://frps.tx.ray321.cn`
- âœ… **PVE ç®¡ç†ç•Œé¢**: `https://pve.tx.ray321.cn`
- âœ… **iKuai ç®¡ç†ç•Œé¢**: `https://ikuai.tx.ray321.cn`
- âœ… **iStoreOS ç®¡ç†ç•Œé¢**: `https://istoreos.tx.ray321.cn`
- âœ… **FRP æœåŠ¡**: `http://121.4.118.156:30000`
- âœ… **æ— ç«¯å£å·**: æ‰€æœ‰ç®¡ç†ç•Œé¢é€šè¿‡åŸŸåè®¿é—®ï¼Œæ›´ä¸“ä¸š
- âœ… **åŠŸèƒ½å®Œæ•´**: ä¸¤ç§è®¿é—®æ–¹å¼éƒ½æ­£å¸¸å·¥ä½œ

## ğŸ”„ ä»æ—§ç‰ˆæœ¬å‡çº§

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨çš„æ˜¯è·¯å¾„æ–¹å¼ï¼ˆå¦‚ `tx.ray321.cn/frps`ï¼‰ï¼Œå‡çº§åˆ°ä¸‰çº§åŸŸåæ–¹å¼ï¼š

1. **æ›´æ–°é…ç½®æ–‡ä»¶**ï¼šç¡®ä¿æ‰€æœ‰é…ç½®æ–‡ä»¶ä½¿ç”¨æ–°çš„åŸŸåç»“æ„
2. **é‡å¯æœåŠ¡**ï¼šåº”ç”¨æ–°é…ç½®åé‡å¯ Pod
3. **æ›´æ–° DNS**ï¼šç¡®ä¿æ‰€æœ‰ä¸‰çº§åŸŸåéƒ½æ­£ç¡®è§£æ
4. **æµ‹è¯•è®¿é—®**ï¼šé€ä¸€æµ‹è¯•æ‰€æœ‰æ–°çš„åŸŸåè®¿é—®

---

**ç°åœ¨æ¨é€ä»£ç æ›´æ–° Ingress é…ç½®ï¼Œç„¶åæµ‹è¯•åŸŸåè®¿é—®ï¼** ğŸš€
